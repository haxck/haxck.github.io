(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f63c137963aa76c31b31b1e46b8aa1be";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();const f=e=>history.replaceState(e,"");let c=history.state?.index||0;history.state||f({index:c,scrollY:0});const E=!!document.startViewTransition,p=()=>!!document.querySelector('[name="astro-view-transitions-enabled"]'),g=e=>document.dispatchEvent(new Event(e)),w=()=>g("astro:load"),l="data-astro-transition-persist",v=(e,t)=>{let n=!1;return(...o)=>{n||(e(...o),n=!0,setTimeout(()=>{n=!1},t))}};async function T(e){const t=await fetch(e),n=await t.text();return{ok:t.ok,html:n}}function A(){const e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}function k(){let e=Promise.resolve();for(const t of Array.from(document.scripts)){const n=document.createElement("script");n.innerHTML=t.innerHTML;for(const o of t.attributes){if(o.name==="src"){const a=new Promise(u=>{n.onload=u});e=e.then(()=>a)}n.setAttribute(o.name,o.value)}t.replaceWith(n)}return e}const S=new DOMParser;async function y(e,t,n,o){const a=S.parseFromString(t,"text/html");a.documentElement.dataset.astroTransition=e;const u=i=>{const r=i.getAttribute(l),s=r&&a.head.querySelector(`[${l}="${r}"]`);if(s)return s;if(i.matches("link[rel=stylesheet]")){const d=i.getAttribute("href");return a.head.querySelector(`link[rel=stylesheet][href="${d}"]`)}return null},m=()=>{for(const r of Array.from(document.head.children)){const s=u(r);s?s.remove():r.remove()}document.head.append(...a.head.children);const i=document.body;document.body.replaceWith(a.body);for(const r of i.querySelectorAll(`[${l}]`)){const s=r.getAttribute(l),d=document.querySelector(`[${l}="${s}"]`);d&&d.replaceWith(r)}n?.scrollY!=null&&scrollTo(0,n.scrollY),g("astro:beforeload")},h=[];for(const i of a.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${l}="${i.getAttribute(l)}"], link[rel=stylesheet]`)){const r=document.createElement("link");r.setAttribute("rel","preload"),r.setAttribute("as","style"),r.setAttribute("href",i.getAttribute("href")),h.push(new Promise(s=>{["load","error"].forEach(d=>r.addEventListener(d,s)),document.head.append(r)}))}if(h.length&&await Promise.all(h),o==="animate"){let i=!1;addEventListener("animationstart",()=>i=!0,{once:!0}),document.documentElement.dataset.astroTransitionFallback="old",a.documentElement.dataset.astroTransitionFallback="new",addEventListener("animationend",m,{once:!0}),setTimeout(()=>!i&&m())}else m()}async function b(e,t,n){let o;const{html:a,ok:u}=await T(t);if(!u){location.href=t;return}E?o=document.startViewTransition(()=>y(e,a,n)).finished:o=y(e,a,n,A());try{await o}finally{document.documentElement.removeAttribute("data-astro-transition"),await k(),w()}}function L(e){if(document.querySelector(`link[rel=prefetch][href="${e}"]`))return;if(navigator.connection){let n=navigator.connection;if(n.saveData||/(2|3)g/.test(n.effectiveType||""))return}let t=document.createElement("link");t.setAttribute("rel","prefetch"),t.setAttribute("href",e),document.head.append(t)}(E||A()!=="none")&&(document.addEventListener("click",e=>{let t=e.target;if(t instanceof Element&&t.tagName!=="A"&&(t=t.closest("a")),t&&t instanceof HTMLAnchorElement&&t.href&&(!t.target||t.target==="_self")&&t.origin===location.origin&&!t.hash&&e.button===0&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.defaultPrevented&&p()){e.preventDefault(),b("forward",t.href,{index:c,scrollY:0}),c++;const n={index:c,scrollY};f({index:c-1,scrollY}),history.pushState(n,"",t.href)}}),addEventListener("popstate",e=>{if(!p()){location.reload();return}if(e.state===null){f({index:c,scrollY}),e.preventDefault();return}const t=history.state,n=t?.index??c+1,o=n>c?"forward":"back";b(o,location.href,t),c=n}),["mouseenter","touchstart","focus"].forEach(e=>{document.addEventListener(e,t=>{if(t.target instanceof HTMLAnchorElement){let n=t.target;n.origin===location.origin&&n.pathname!==location.pathname&&p()&&L(n.pathname)}},{passive:!0,capture:!0})}),addEventListener("load",w),addEventListener("scroll",v(()=>{history.state&&f({...history.state,scrollY})},300),{passive:!0}));
